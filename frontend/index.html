<!DOCTYPE html>
<html lang="id" data-bs-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>PointMap - Peta Kampus Interaktif</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"
    />
    <style>
      :root {
        --bs-primary: #0d6efd;
        --bs-secondary: #6c757d;
        --bs-success: #198754;
        --bs-info: #0dcaf0;
        --bs-warning: #ffc107;
        --bs-danger: #dc3545;
        --bs-light: #f8f9fa;
        --bs-dark: #212529;
      }

      body {
        background-color: var(--bs-light);
        transition: background-color 0.3s ease;
        padding-top: 56px;
      }

      body[data-bs-theme="dark"] {
        background-color: var(--bs-dark);
      }

      .navbar {
        background-color: var(--bs-dark);
        transition: background-color 0.3s ease;
      }

      body[data-bs-theme="dark"] .navbar {
        background-color: #1a1d20;
      }

      .hero-section {
        background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
          url("assets/slider1.jpg");
        background-size: cover;
        background-position: center;
        color: white;
        padding: 100px 0;
      }

      .feature-card {
        border: none;
        border-radius: 10px;
        transition: transform 0.3s ease;
      }

      .feature-card:hover {
        transform: translateY(-5px);
      }

      .feature-icon {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        color: var(--bs-primary);
      }

      .search-box {
        position: relative;
        max-width: 500px;
        margin: 0 auto;
      }

      .search-box input {
        padding-left: 3rem;
        border-radius: 50px;
      }

      .search-box i {
        position: absolute;
        left: 1.5rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--bs-secondary);
      }

      .footer {
        background-color: var(--bs-dark);
        color: white;
        padding: 3rem 0;
      }

      .form-check-input {
        cursor: pointer;
      }

      .weather-info {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .date-info {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
    </style>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
      <div class="container">
        <a class="navbar-brand" href="#">PointMap</a>
        <div class="d-flex align-items-center gap-3">
          <div class="date-info text-white">
            <i class="bi bi-calendar3"></i>
            <span id="current-date"></span>
          </div>
          <div class="weather-info text-white">
            <i class="bi bi-cloud-sun"></i>
            <span id="weather-temp"></span>
            <span id="weather-desc"></span>
          </div>
          <div class="form-check form-switch">
            <input
              class="form-check-input"
              type="checkbox"
              role="switch"
              id="darkModeSwitch"
            />
            <label class="form-check-label text-white" for="darkModeSwitch">
              <i class="bi bi-moon-stars"></i>
            </label>
          </div>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section text-center">
      <div class="container">
        <h1 class="display-4 mb-4">Selamat Datang di PointMap</h1>
        <p class="lead mb-5">
          Temukan lokasi ruangan dan fasilitas kampus dengan mudah
        </p>
        <div class="search-box">
          <i class="bi bi-search"></i>
          <input
            type="text"
            class="form-control form-control-lg"
            placeholder="Cari ruangan atau lokasi..."
          />
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="py-5">
      <div class="container">
        <h2 class="text-center mb-5">Fitur Utama</h2>
        <div class="row g-4">
          <div class="col-md-4">
            <div class="card feature-card h-100 p-4 text-center">
              <i class="bi bi-geo-alt feature-icon"></i>
              <h3>Peta Interaktif</h3>
              <p>
                Jelajahi kampus dengan peta interaktif yang mudah digunakan dan
                informatif
              </p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card feature-card h-100 p-4 text-center">
              <i class="bi bi-search feature-icon"></i>
              <h3>Pencarian Cepat</h3>
              <p>
                Temukan ruangan dan fasilitas dengan cepat menggunakan fitur
                pencarian
              </p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card feature-card h-100 p-4 text-center">
              <i class="bi bi-info-circle feature-icon"></i>
              <h3>Informasi Detail</h3>
              <p>
                Dapatkan informasi lengkap tentang setiap ruangan dan fasilitas
                kampus
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="row">
          <div class="col-md-4">
            <h5>PointMap</h5>
            <p>
              Platform peta kampus interaktif yang membantu Anda menemukan
              lokasi dengan mudah
            </p>
          </div>
          <div class="col-md-4">
            <h5>Link Cepat</h5>
            <ul class="list-unstyled">
              <li><a href="#" class="text-white">Beranda</a></li>
              <li><a href="dashboard.html" class="text-white">Dashboard</a></li>
              <li><a href="#" class="text-white">Tentang</a></li>
              <li><a href="#" class="text-white">Kontak</a></li>
            </ul>
          </div>
          <div class="col-md-4">
            <h5>Kontak</h5>
            <ul class="list-unstyled">
              <li><i class="bi bi-envelope me-2"></i> info@pointmap.com</li>
              <li><i class="bi bi-telephone me-2"></i> (123) 456-7890</li>
              <li><i class="bi bi-geo-alt me-2"></i> Jl. Kampus No. 1, Kota</li>
            </ul>
          </div>
        </div>
        <hr class="mt-4 mb-4" />
        <div class="text-center">
          <p class="mb-0">&copy; 2024 PointMap. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="config.js"></script>
    <script src="main.js"></script>
    <script>
      // Fungsi untuk menampilkan tanggal
      function updateDateTime() {
        const now = new Date();
        const options = {
          weekday: "long",
          day: "numeric",
          month: "long",
          year: "numeric",
        };
        const dateStr = now.toLocaleDateString("id-ID", options);
        document.getElementById("current-date").textContent = dateStr;
      }

      // Fungsi untuk mengambil data cuaca
      async function getWeather() {
        const API_KEY = "3de9464f7cd6c93edc45ca3b8f2188fd"; // API key OpenWeatherMap
        const city = "Pontianak";
        const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${API_KEY}&units=metric&lang=id`;

        try {
          const response = await fetch(url);
          const data = await response.json();

          const temp = Math.round(data.main.temp);
          const desc = data.weather[0].description;

          document.getElementById("weather-temp").textContent = `${temp}Â°C`;
          document.getElementById("weather-desc").textContent = desc;
        } catch (error) {
          console.error("Error fetching weather:", error);
          document.getElementById("weather-temp").textContent = "N/A";
          document.getElementById("weather-desc").textContent =
            "Tidak dapat memuat data cuaca";
        }
      }

      // Fungsi untuk dark mode
      function initDarkMode() {
        const darkModeSwitch = document.getElementById("darkModeSwitch");
        const html = document.documentElement;

        // Cek preferensi yang tersimpan
        const darkMode = localStorage.getItem("darkMode") === "true";
        darkModeSwitch.checked = darkMode;
        if (darkMode) {
          html.setAttribute("data-bs-theme", "dark");
        }

        // Event listener untuk switch
        darkModeSwitch.addEventListener("change", () => {
          if (darkModeSwitch.checked) {
            html.setAttribute("data-bs-theme", "dark");
            localStorage.setItem("darkMode", "true");
          } else {
            html.setAttribute("data-bs-theme", "light");
            localStorage.setItem("darkMode", "false");
          }
        });
      }

      // Panggil fungsi saat halaman dimuat
      document.addEventListener("DOMContentLoaded", () => {
        updateDateTime();
        getWeather();
        initDarkMode();

        // Update tanggal setiap menit
        setInterval(updateDateTime, 60000);

        // Update cuaca setiap 30 menit
        setInterval(getWeather, 1800000);
      });
    </script>
  </body>
</html>
